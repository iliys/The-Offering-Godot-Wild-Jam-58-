[gd_scene load_steps=11 format=3 uid="uid://trdy53vwdy7u"]

[ext_resource type="PackedScene" uid="uid://bx8pdba81ce1e" path="res://actor/actor.tscn" id="1_wimsm"]
[ext_resource type="Script" path="res://actor/player/player.gd" id="2_eied7"]
[ext_resource type="Texture2D" uid="uid://b166ubn4tmut1" path="res://icon.svg" id="2_l3cdn"]
[ext_resource type="PackedScene" uid="uid://c7tkgcmbnoj4u" path="res://combat_boxes/hurt_box/hurt_box.tscn" id="4_1jns1"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_vvcd4"]
resource_local_to_scene = true
size = Vector2(18, 12)

[sub_resource type="AnimationNodeBlendSpace2D" id="AnimationNodeBlendSpace2D_2tpmm"]

[sub_resource type="AnimationNodeStateMachine" id="AnimationNodeStateMachine_0se8w"]
states/Movement/node = SubResource("AnimationNodeBlendSpace2D_2tpmm")
states/Movement/position = Vector2(388, 103)

[sub_resource type="AnimationNodeStateMachinePlayback" id="AnimationNodeStateMachinePlayback_vh751"]

[sub_resource type="CircleShape2D" id="CircleShape2D_1siv2"]
radius = 7.0

[sub_resource type="RectangleShape2D" id="RectangleShape2D_kwwde"]
resource_local_to_scene = true
size = Vector2(12, 12)

[node name="Player" instance=ExtResource("1_wimsm")]
collision_layer = 2
collision_mask = 3
script = ExtResource("2_eied7")
attack_speed_factor = 0.0

[node name="Sprite2D" parent="." index="0"]
scale = Vector2(0.125, 0.125)
texture = ExtResource("2_l3cdn")

[node name="Camera2D" type="Camera2D" parent="." index="1"]
position_smoothing_enabled = true
position_smoothing_speed = 4.0

[node name="Hand" type="Marker2D" parent="." index="2"]
editor_description = "Rotate to change attack direction."

[node name="Weapon" parent="Hand" index="0" instance=ExtResource("4_1jns1")]
unique_name_in_owner = true
position = Vector2(16, 0)

[node name="CollisionShape" parent="Hand/Weapon" index="0"]
position = Vector2(1, 0)
shape = SubResource("RectangleShape2D_vvcd4")

[node name="Sprite2D" type="Sprite2D" parent="Hand/Weapon" index="3"]
editor_description = "Will probably be deleted later."
modulate = Color(1, 0, 0, 1)
scale = Vector2(0.126, 0.063)
texture = ExtResource("2_l3cdn")

[node name="AnimationTree" type="AnimationTree" parent="." index="3"]
tree_root = SubResource("AnimationNodeStateMachine_0se8w")
parameters/playback = SubResource("AnimationNodeStateMachinePlayback_vh751")
parameters/Movement/blend_position = Vector2(0, 0)

[node name="AnimationPlayer" type="AnimationPlayer" parent="." index="4"]

[node name="CollisionShape2D" parent="." index="5"]
shape = SubResource("CircleShape2D_1siv2")

[node name="CollisionShape" parent="HitBox" index="0"]
shape = SubResource("RectangleShape2D_kwwde")

[connection signal="attack_finished" from="Hand/Weapon" to="." method="_on_weapon_attack_finished"]
[connection signal="attacked" from="Hand/Weapon" to="." method="_on_weapon_attacked"]

[editable path="Hand/Weapon"]
[editable path="HitBox"]
